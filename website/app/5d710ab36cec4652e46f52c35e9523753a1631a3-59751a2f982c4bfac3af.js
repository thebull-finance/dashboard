"use strict";(self.webpackChunkzignaly_webapp=self.webpackChunkzignaly_webapp||[]).push([[1586],{64783:function(e,n,t){var a=t(8580),l=t(1022);n.Z=void 0;var s=l(t(67294)),o=(0,a(t(66461)).default)(s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");n.Z=o},88040:function(e,n,t){var a=t(8580),l=t(1022);n.Z=void 0;var s=l(t(67294)),o=(0,a(t(66461)).default)(s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");n.Z=o},53267:function(e,n,t){t.d(n,{Z:function(){return k}});var a=t(67294),l=t(71949),s=t(30998),o=t.n(s),i=t(82245),r=t(4445),c=t(47752),u=t(66735),d=t(80951),m=t(13286),p=t(13470),f=(t(17727),t(60454)),b=t(52996),y=t(8474),g=t(64783),v=t(88040),E=t(25450),C=t(45850),Z=t(19199),h=t(66718),I=function(e){var n=e.followerId,t=e.onClose,l=e.loadData,s=(0,E.Z)(),o=(0,a.useState)(1),r=o[0],c=o[1],u=(0,a.useState)(!1),m=u[0],p=u[1],I=(0,Z.I0)();return a.createElement(i.Z,{className:"modifyUserSubscription",display:"flex",flexDirection:"column"},a.createElement(i.Z,{alignItems:"center",className:"formBox",display:"flex",flexDirection:"column",justifyContent:"space-between"},a.createElement(f.Z,{variant:"h4"},a.createElement(d.Z,{id:"users.modify.title"})),a.createElement(i.Z,{alignItems:"center",className:"addSubBox",display:"flex",flexDirection:"row",justifyContent:"space-between"},a.createElement(v.Z,{className:"addIcon",color:"primary",onClick:function(){-100!==r&&c(r-1)}}),a.createElement(f.Z,{variant:"h3"},r," ",1===r?a.createElement(d.Z,{id:"users.modify.day"}):a.createElement(d.Z,{id:"users.modify.days"})),a.createElement(g.Z,{className:"addIcon",color:"primary",onClick:function(){100!==r&&c(r+1)}})),a.createElement(b.Z,{className:"sliderInput",max:100,min:-100,onChange:function(e,n){c(n)},step:1,value:r})),a.createElement(i.Z,{className:"formAction",display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(y.Z,{className:"submitButton",loading:m,onClick:function(){p(!0);var e={providerId:s.provider.id,followerId:n,days:r};C.Z.modifySubscription(e).then((function(e){e&&l()})).catch((function(e){I((0,h.jx)(e))})).finally((function(){p(!1)}))}},a.createElement(d.Z,{id:"action.update"})),a.createElement(y.Z,{className:"textButton",onClick:t},a.createElement(d.Z,{id:"action.cancel"}))))},x=t(38966),w=t(606),B=t(84662),O=t(59511),S=function(e){var n=e.title,t=e.provider,s=e.persistKey,f=e.list,b=e.loadData,y=e.filtersVisibility,g=e.setFiltersVisibility,v=e.paginationOptions,S=e.loading,N=(0,E.Z)(),R=(0,u.Z)(),D=(0,a.useState)(!1),j=D[0],k=D[1],P=(0,a.useState)(!1),F=P[0],M=P[1],z=(0,a.useState)(""),T=z[0],V=z[1],A=(0,a.useState)("cancel"),H=A[0],K=A[1],L=(0,a.useState)({titleTranslationId:"users.cancel.title",messageTranslationId:"users.cancel.subtitle",visible:!1}),$=L[0],U=L[1],Y=(0,Z.I0)(),_=function(e){return a.createElement("span",null,R.formatMessage({id:e?"general.yes":"general.no"}))},Q=[{name:"userId",label:"col.users.userid"},{name:"email",label:"col.users.email"},{name:"name",label:"col.users.name"},{name:"connected",label:"col.users.connected",options:{display:"true",viewColumns:!0,customBodyRender:_}},{name:"active",label:"col.users.active",options:{customBodyRender:_}},{name:"suspended",label:"col.users.suspended",options:{customBodyRender:_}},{name:"realExchangeConnected",label:"col.users.realexchange",options:{customBodyRender:function(e){return a.createElement("span",null," ",e?a.createElement(d.Z,{id:"account.real"}):a.createElement(d.Z,{id:"account.demo"}))}}},{name:"allocatedBalance",label:"col.users.allocatedbalance",options:{customBodyRender:function(e){return a.createElement("span",null,(0,x.$1)(e))}}},{name:"profitsFromClosedBalance",label:"col.users.profits",options:{customBodyRender:function(e){return a.createElement("span",null,(0,x.$1)(e))}}},{name:"code",label:"col.users.code"},{name:"lastTransactionId",label:"col.users.lasttransaction"},{name:"cancelDate",label:"col.users.canceldate",options:{customBodyRender:function(e){return"-"===e?e:a.createElement("span",null,(0,x.p6)(e,"YY/MM/DD HH:MM"))}}},{name:"userId",label:"col.users.modify",options:{customBodyRender:function(e){return a.createElement("img",{alt:"zignaly",className:"editIcon",onClick:function(){return J(e)},src:m.Z})}}},{name:"userId",label:"col.users.cancel",options:{customBodyRender:function(e){return F&&T===e?a.createElement(l.Z,{color:"primary",size:24}):G(e)?a.createElement(r.ZP,{placement:"top",title:"Enable"},a.createElement(B.Z,{className:"cancelIcon green",onClick:function(){return X(e)}})):a.createElement(r.ZP,{placement:"top",title:"Cancel"},a.createElement(O.Z,{className:"cancelIcon red",onClick:function(){return W(e)}}))}}}],q=[{name:"profitsMode",label:"col.users.profitsmode",options:{display:"true",viewColumns:!0}},{name:"originalAllocated",label:"col.users.originallyallocated",options:{display:"true",viewColumns:!0,customBodyRenderLite:function(e){return a.createElement("span",null,f[e].unit+" "+(0,x.$1)(f[e].originalAllocated))}}},{name:"profitsShare",label:"col.users.profitshare",options:{display:"true",viewColumns:!0,customBodyRender:function(e){return a.createElement("span",null,(0,x.C2)(e)+"%")}}},{name:"retain",label:"col.users.retain",options:{display:"true",viewColumns:!0,customBodyRenderLite:function(e){return a.createElement("span",null,(0,x.C2)(f[e].retain))}}}];t.profitSharing&&(["col.users.suspended","col.users.code","col.users.lasttransaction","col.users.canceldate","col.users.modify","col.users.cancel"].forEach((function(e){var n,t,a;n=Q,t=e,(a=o()(n,{label:t}))>-1&&(Q[a].options={viewColumns:!1,display:"excluded"})})),Q=Q.concat(q));var G=function(e){var n=f.find((function(n){return n.userId===e}));return!n||!!n.suspended},J=function(e){V(e),k(!0)},W=function(e){V(e),K("cancel"),U({titleTranslationId:"users.cancel.title",messageTranslationId:"users.cancel.subtitle",visible:!0})},X=function(e){V(e),K("enable"),U({titleTranslationId:"users.enable.title",messageTranslationId:"users.enable.subtitle",visible:!0})},ee=function(){k(!1)};return a.createElement(i.Z,{className:"usersTable",display:"flex",flexDirection:"column",width:1},a.createElement(w.Q,{confirmConfig:$,executeActionCallback:function(){M(!0);var e={providerId:N.provider.id,followerId:T,cancel:"cancel"===H};C.Z.cancelSubscription(e).then((function(){M(!1),b()})).catch((function(e){Y((0,h.jx)(e)),M(!1)}))},setConfirmConfig:U}),a.createElement(c.Z,{columns:Q,data:f,options:{search:!0},persistKey:s,title:n,toggleFilters:function(){g(!y)},paginationOptions:v,loading:S}),a.createElement(p.Z,{onClose:ee,persist:!1,size:"small",state:j},a.createElement(I,{followerId:T,loadData:b,onClose:ee})))},N=t(22986),R=t(29093),D=function(e){var n=e.connectedOptions,t=e.activeOptions,l=e.suspendedOptions,s=e.filters,o=e.setFilters,r=(0,u.Z)();return a.createElement(i.Z,{alignItems:"center",className:"userFilters",display:"flex",flexDirection:"row",justifyContent:"flex-start"},a.createElement(R.Z,{label:r.formatMessage({id:"fil.connected"}),onChange:function(e){return o(Object.assign({},s,{connected:e}))},options:n,value:s.connected}),a.createElement(R.Z,{label:r.formatMessage({id:"fil.active"}),onChange:function(e){return o(Object.assign({},s,{active:e}))},options:t,value:s.active}),a.createElement(R.Z,{label:r.formatMessage({id:"fil.suspended"}),onChange:function(e){return o(Object.assign({},s,{suspended:e}))},options:l,value:s.suspended}))},j=t(44292),k=function(e){var n=e.provider,t="copytProfileUsers",s=(0,j.Z)(),o=(0,a.useState)({page:1,maxPerPage:s.rowsPerPage[t]||10,sort:s.sortColumns[t]?s.sortColumns[t].name:null,direction:s.sortColumns[t]?s.sortColumns[t].direction:null}),i=o[0],r=o[1],c=(0,N.Z)(n,i),u=c.users,d=c.loadFollowersList,m=c.connectedOptions,p=c.activeOptions,f=c.suspendedOptions,b=c.filters,y=c.setFilters,g=c.filtersVisibility,v=c.setFiltersVisibility,E=c.total,C=c.loading;return a.createElement(a.Fragment,null,u?a.createElement(S,{filtersVisibility:g,list:u,loadData:d,persistKey:t,provider:n,setFiltersVisibility:v,title:a.createElement(D,{activeOptions:p,connectedOptions:m,filters:b,setFilters:y,suspendedOptions:f}),loading:C,paginationOptions:{total:E,onRowsPerPageChange:function(e){r(Object.assign({},i,{maxPerPage:e}))},onPageChange:function(e){r(Object.assign({},i,{page:e}))},onColumnSortChange:function(e,n){r(Object.assign({},i,{sort:e,direction:n}))}}}):a.createElement(l.Z,{color:"primary"}))}}}]);
//# sourceMappingURL=5d710ab36cec4652e46f52c35e9523753a1631a3-59751a2f982c4bfac3af.js.map