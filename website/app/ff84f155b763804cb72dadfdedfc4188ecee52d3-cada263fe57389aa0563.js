(self.webpackChunkzignaly_webapp=self.webpackChunkzignaly_webapp||[]).push([[4262],{83225:function(t,e,a){a(65743),t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}()},95096:function(t,e,a){a(65743),t.exports=function(){"use strict";var t="week",e="year";return function(a,r,n){var i=r.prototype;i.week=function(a){if(void 0===a&&(a=null),null!==a)return this.add(7*(a-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=n(this).startOf(e).add(1,e).date(r),o=n(this).endOf(t);if(i.isBefore(o))return 1}var l=n(this).startOf(e).date(r).startOf(t).subtract(1,"millisecond"),s=this.diff(l,t,!0);return s<0?n(this).startOf("week").week():Math.ceil(s)},i.weeks=function(t){return void 0===t&&(t=null),this.week(t)}}}()},88109:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var r=a(18446),n=a.n(r),i=a(67294),o=a(82245),l=a(2961),s=(a(21980),a(12229)),d=a(76913),u=a(36839),c=function(t,e){return n()(t.data,e.data)&&n()(t.options,e.options)},h=i.memo(l.$Q,c),y=i.memo(l.n4,c),f=function(t){var e=t.values,a=t.labels,r=t.horizontal,n=t.tooltipFormat,l=t.imageUrls,c=t.adjustHeightToContent,f=t.options,x=(0,d.Z)(n),m=x.chartRef,b=x.pointHoverRef,p=x.tooltipData,_=x.showTooltip,g=(0,i.useCallback)(_,[e]),v={labels:l?e.map((function(){return""})):a,datasets:[{data:e,barThickness:20,maxBarThickness:24,backgroundColor:e.map((function(t){return t<0?"#f63f82":"#08a441"}))}]},w={ticks:{fontColor:"#d4d4d4",fontSize:14,padding:0},gridLines:{color:"transparent",display:!0,drawBorder:!1,zeroLineColor:"#d4d4d4"}},k={gridLines:{display:!1},ticks:{display:!0,padding:r?10:0}},C=i.useState([]),T=C[0],S=C[1];i.useEffect((function(){if(l){var t=l.map((function(t){var e=new Image;return e.src=t,e}));S(t)}}),[l]);var q={responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[r?k:w],xAxes:[r?w:k]},layout:{padding:{left:r?15:0,right:0,top:20,bottom:r?10:l?25:0}},cornerRadius:4,tooltips:{enabled:!1,custom:g},animation:{duration:0},hover:{intersect:!1,mode:"index",animationDuration:0},plugins:{legendImages:!!T&&{images:T,horizontal:r}}},Z=[{id:"legendImages",afterDraw:function(t){if(t.data.datasets)for(var e=t.options.plugins.legendImages,a=e.images,r=e.horizontal,n=t.ctx,i=t.scales["x-axis-0"],o=t.scales["y-axis-0"],l=function(t,e){if(t.naturalWidth||(t.src=s.Z),r){var a=o.getPixelForTick(e);n.drawImage(t,0,a-13,26,26)}else{var l=i.getPixelForTick(e);n.drawImage(t,l-20,o.bottom+15,40,40)}},d=function(t){var e=a[t];e.complete?l(e,t):e.onload=function(){l(e,t)}},u=0;u<a.length;u++)d(u)}}];q=Object.assign(q,f);var E=r?y:h,O=0;if(r&&c){var D=v.datasets[0].barThickness;D="number"==typeof D?D:0,O=e.length*(D+6)+60}return i.createElement(o.Z,{className:"barChart",style:Object.assign({},O&&{height:O})},i.createElement(u.Z,{pointHoverRef:b,showPointHover:!1,tooltipData:p},i.createElement(E,{data:v,options:q,plugins:Z,ref:m})))}},21980:function(){Chart.elements.Rectangle.prototype.draw=function(){var t,e,a,r,n,i,o,l=this._chart.ctx,s=this._view,d=s.borderWidth,u=this._chart.config.options.cornerRadius;if(u<0&&(u=0),void 0===u&&(u=0),s.horizontal?(a=s.base,r=s.x,o=s.y-s.height/2,e=s.y+s.height/2,n=r>a?1:-1,i=1,t=s.borderSkipped||"left"):(a=s.x-s.width/2,r=s.x+s.width/2,o=s.y,n=1,i=(e=s.base)>o?1:-1,t=s.borderSkipped||"bottom"),d){var c=Math.min(Math.abs(a-r),Math.abs(o-e)),h=(d=d>c?c:d)/2,f=a+("left"!==t?h*n:0),m=r+("right"!==t?-h*n:0),b=o+("top"!==t?h*i:0),p=e+("bottom"!==t?-h*i:0);f!==m&&(o=b,e=p),b!==p&&(a=f,r=m)}l.beginPath(),l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,l.lineWidth=d;var _=[[a,e],[a,o],[r,o],[r,e]],g=["bottom","left","top","right"].indexOf(t,0);function v(t){return _[(g+t)%4]}-1===g&&(g=0);var w=v(0);l.moveTo(w[0],w[1]);for(var k=1;k<4;k++){var C;w=v(k),nextCornerId=k+1,4==nextCornerId&&(nextCornerId=0),nextCorner=v(nextCornerId),width=_[2][0]-_[1][0],height=_[0][1]-_[1][1],x=_[1][0],y=_[1][1],(C=u)>Math.abs(height)/2&&(C=Math.floor(Math.abs(height)/2)),C>Math.abs(width)/2&&(C=Math.floor(Math.abs(width)/2)),height<0?(x_tl=x,x_tr=x+width,y_tl=y+height,y_tr=y+height,x_bl=x,x_br=x+width,y_bl=y,y_br=y,l.moveTo(x_bl+C,y_bl),l.lineTo(x_br-C,y_br),l.quadraticCurveTo(x_br,y_br,x_br,y_br-C),l.lineTo(x_tr,y_tr+C),l.quadraticCurveTo(x_tr,y_tr,x_tr-C,y_tr),l.lineTo(x_tl+C,y_tl),l.quadraticCurveTo(x_tl,y_tl,x_tl,y_tl+C),l.lineTo(x_bl,y_bl-C),l.quadraticCurveTo(x_bl,y_bl,x_bl+C,y_bl)):width<0?(x_tl=x+width,x_tr=x,y_tl=y,y_tr=y,x_bl=x+width,x_br=x,y_bl=y+height,y_br=y+height,l.moveTo(x_bl+C,y_bl),l.lineTo(x_br-C,y_br),l.quadraticCurveTo(x_br,y_br,x_br,y_br-C),l.lineTo(x_tr,y_tr+C),l.quadraticCurveTo(x_tr,y_tr,x_tr-C,y_tr),l.lineTo(x_tl+C,y_tl),l.quadraticCurveTo(x_tl,y_tl,x_tl,y_tl+C),l.lineTo(x_bl,y_bl-C),l.quadraticCurveTo(x_bl,y_bl,x_bl+C,y_bl)):(l.moveTo(x+C,y),l.lineTo(x+width-C,y),l.quadraticCurveTo(x+width,y,x+width,y+C),l.lineTo(x+width,y+height-C),l.quadraticCurveTo(x+width,y+height,x+width-C,y+height),l.lineTo(x+C,y+height),l.quadraticCurveTo(x,y+height,x,y+height-C),l.lineTo(x,y+C),l.quadraticCurveTo(x,y,x+C,y))}l.fill(),d&&l.stroke()}},73964:function(t,e,a){"use strict";a.d(e,{Z:function(){return _}});var r=a(67294),n=a(82245),i=a(88109),o=a(82469),l=a(67287),s=a(70802),d=function(t){var e=t.quarter,a=t.unit,d=void 0===a?"%":a,u=(0,s.Z)(),c=(0,l.Z)(u.breakpoints.down("sm")),h=e&&e.weeklyStats?e.weeklyStats.map((function(t){return t.return})):[],y=e&&e.weeklyStats?e.weeklyStats.map((function(){return""})):[];return r.createElement(n.Z,{className:"tradingPerformanceGraph"},r.createElement(i.Z,{adjustHeightToContent:c,horizontal:c,labels:y,options:{scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{stacked:!1,ticks:{display:!0},gridLines:{color:"transparent",display:!0,drawBorder:!1,zeroLineColor:"#d4d4d4"}}]}},tooltipFormat:function(t){return""+(0,o.T4)(t[c?"xLabel":"yLabel"])+d},values:h}))},u=a(60454),c=a(2580),h=a.n(c),y=a(83225),f=a.n(y);h().extend(f());var x=function(t){var e=t.list,a=t.selected,i=t.onChange,o=t.unit,l=void 0===o?"%":o,s="BTC"===l?8:2;return r.createElement(n.Z,{alignItems:"flex-start",className:"weeklyData",display:"flex",flexDirection:"column",justifyContent:"flex-start"},r.createElement(n.Z,{alignItems:"center",className:"weekLabels",display:"flex",flexDirection:"row",justifyContent:"space-between"},r.createElement(u.Z,{className:"quaterLabel",variant:"h3"}),a&&a.weeklyStats&&a.weeklyStats.map((function(t,e){return r.createElement(u.Z,{key:e,variant:"h5"},h()(t.day).isSameOrBefore(h()(),"week")?h()(t.day).format("DD MMM"):"--")})),r.createElement(u.Z,{className:"total",variant:"h5"},"Total")),r.createElement(n.Z,{className:"weekData",display:"flex",flexDirection:"column"},e.map((function(t,o){return r.createElement(n.Z,{alignItems:"center",className:"quarterBox "+(a.id===t.id?"selected":""),display:"flex",flexDirection:"row",justifyContent:"space-between",key:o,onClick:function(){return a=t.id,r=e.find((function(t){return t.id===a})),void(r&&i(r));var a,r}},r.createElement(u.Z,{className:"quaterLabel",variant:"h3"},t.label),t.weeklyStats.map((function(t,e){return r.createElement(u.Z,{className:l.toLowerCase()+" "+(t.return>=0?"green":"red"),key:e,variant:"h5"},t.return?""+t.return.toFixed(s)+l:"--")})),r.createElement(u.Z,{className:"total "+l.toLowerCase()+" "+(t.total>=0?"green":"red"),variant:"h5"},t.total?""+t.total.toFixed(s)+l:"--"))}))))},m=a(53951),b=a(95096),p=a.n(b);h().extend(p());var _=function(t){var e=t.performance,a=t.unit,i=void 0===a?"%":a,o=(0,r.useState)([]),l=o[0],s=o[1],u=(0,r.useState)({weeklyStats:[],total:0,id:0,label:""}),c=u[0],y=u[1];(0,r.useEffect)((function(){if(e.weeklyStats.length){var t,a=[],r=h()(e.weeklyStats[0].day),n=((t=r.startOf("quarter")).day()>0&&(t=t.add(1,"w").startOf("w")),t);r.isBefore(n)&&(n=n.subtract(1,"quarter"));var i={unit:"w",startDate:n,endDate:h()().endOf("quarter").startOf("d"),dateKey:"day"};(0,m.e)(e.weeklyStats,i,(function(t,e){var r=a&&a[a.length-1],n=t.quarter(),i=e?e.return:0,o={day:t.startOf("w").format(),week:t.week().toString(),return:i,positions:e?e.positions:0};r&&r.id===n?(r.weeklyStats.push(o),r.total+=o.return):a.push({weeklyStats:[o],total:i,id:n,label:"'"+t.year().toString().slice(2)+" Q"+n})})),s(a.reverse()),y(a[0])}}),[e]);return r.createElement(n.Z,{className:"tradingPerformance"},r.createElement(d,{quarter:c,unit:i}),r.createElement(x,{list:l,onChange:function(t){y(t)},selected:c,unit:i}))}}}]);
//# sourceMappingURL=ff84f155b763804cb72dadfdedfc4188ecee52d3-cada263fe57389aa0563.js.map