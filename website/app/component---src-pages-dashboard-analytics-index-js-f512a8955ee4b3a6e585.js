(self.webpackChunkzignaly_webapp=self.webpackChunkzignaly_webapp||[]).push([[2752],{45893:function(e,t,n){"use strict";var a=n(54038),r=n(82277),i=n(91951),s=n(67294),o=n(2585),l=n(70628),c=n(20683),d=n(55786),u=n(63633),m=n(70802),f=n(40395),p=s.forwardRef((function(e,t){var n=e.children,c=e.classes,p=e.className,g=e.collapsedHeight,v=e.collapsedSize,h=void 0===v?"0px":v,y=e.component,E=void 0===y?"div":y,Z=e.disableStrictModeCompat,I=void 0!==Z&&Z,b=e.in,x=e.onEnter,M=e.onEntered,N=e.onEntering,C=e.onExit,j=e.onExited,w=e.onExiting,D=e.style,T=e.timeout,S=void 0===T?d.x9.standard:T,k=e.TransitionComponent,L=void 0===k?l.ZP:k,P=(0,i.Z)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),O=(0,m.Z)(),A=s.useRef(),F=s.useRef(null),z=s.useRef(),q="number"==typeof(g||h)?"".concat(g||h,"px"):g||h;s.useEffect((function(){return function(){clearTimeout(A.current)}}),[]);var B=O.unstable_strictMode&&!I,Q=s.useRef(null),H=(0,f.Z)(t,B?Q:void 0),Y=function(e){return function(t,n){if(e){var a=B?[Q.current,t]:[t,n],i=(0,r.Z)(a,2),s=i[0],o=i[1];void 0===o?e(s):e(s,o)}}},R=Y((function(e,t){e.style.height=q,x&&x(e,t)})),G=Y((function(e,t){var n=F.current?F.current.clientHeight:0,a=(0,u.C)({style:D,timeout:S},{mode:"enter"}).duration;if("auto"===S){var r=O.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),z.current=r}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),N&&N(e,t)})),$=Y((function(e,t){e.style.height="auto",M&&M(e,t)})),U=Y((function(e){var t=F.current?F.current.clientHeight:0;e.style.height="".concat(t,"px"),C&&C(e)})),W=Y(j),K=Y((function(e){var t=F.current?F.current.clientHeight:0,n=(0,u.C)({style:D,timeout:S},{mode:"exit"}).duration;if("auto"===S){var a=O.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),z.current=a}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=q,w&&w(e)}));return s.createElement(L,(0,a.Z)({in:b,onEnter:R,onEntered:$,onEntering:G,onExit:U,onExited:W,onExiting:K,addEndListener:function(e,t){var n=B?e:t;"auto"===S&&(A.current=setTimeout(n,z.current||0))},nodeRef:B?Q:void 0,timeout:"auto"===S?null:S},P),(function(e,t){return s.createElement(E,(0,a.Z)({className:(0,o.default)(c.root,c.container,p,{entered:c.entered,exited:!b&&"0px"===q&&c.hidden}[e]),style:(0,a.Z)({minHeight:q},D),ref:H},t),s.createElement("div",{className:c.wrapper,ref:F},s.createElement("div",{className:c.wrapperInner},n)))}))}));p.muiSupportAuto=!0,t.Z=(0,c.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(p)},16537:function(e,t,n){n(65743),e.exports=function(){"use strict";var e="month",t="quarter";return function(n,a){var r=a.prototype;r.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var i=r.add;r.add=function(n,a){return n=Number(n),this.$utils().p(a)===t?this.add(3*n,e):i.bind(this)(n,a)};var s=r.startOf;r.startOf=function(n,a){var r=this.$utils(),i=!!r.u(a)||a;if(r.p(n)===t){var o=this.quarter()-1;return i?this.month(3*o).startOf(e).startOf("day"):this.month(3*o+2).endOf(e).endOf("day")}return s.bind(this)(n,a)}}}()},61986:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(67294),r=n(82245),i=n(45893),s=n(80951),o=n(49829),l=n(49599),c=function(e){var t=e.onClose,n=e.onClear,c=e.title,d=e.open,u=e.children;return a.createElement(l.Z,{condition:void 0!==d,wrapper:function(e){return a.createElement(i.Z,{in:d,unmountOnExit:!0},e)}},a.createElement(r.Z,{alignItems:"center",className:"customFilters",display:"flex",flexDirection:"row",justifyContent:"space-between"},a.createElement(r.Z,{alignItems:"center",className:"filters",display:"flex",flexDirection:"row",justifyContent:"flex-start"},c&&a.createElement("span",{className:"title"},c),u),a.createElement(r.Z,{alignItems:"center",className:"actions",display:"flex",flexDirection:"row",justifyContent:"space-between"},n&&a.createElement(o.Z,{className:"textPurple",onClick:function(){return n()},startIcon:a.createElement("img",{className:"icon iconPurple",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI0IDI1Ij4KICAgIDxwYXRoIGZpbGw9IiM3NzBGQzgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjMxOCAxNi45NThsLTQuMjA5LTQuMjA4IDQuMjA4LTQuMjA3Yy4yNDQtLjI0NC4yNDQtLjYzOSAwLS44ODNsLS45NzctLjk3N2MtLjI0NC0uMjQ0LS42MzktLjI0NC0uODgzIDBMMTEuMjUgMTAuODkgNy4wNDIgNi42ODNjLS4yNDMtLjI0My0uNjM4LS4yNDMtLjg4MiAwbC0uOTc3Ljk3OGMtLjI0NC4yNDMtLjI0NC42MzggMCAuODgyTDkuMzkgMTIuNzVsLTQuMjA4IDQuMjA4Yy0uMjQzLjI0My0uMjQzLjYzOCAwIC44ODJsLjk3Ny45NzdjLjI0NC4yNDQuNjM5LjI0NC44ODIgMGw0LjIwOC00LjIwNyA0LjIwOCA0LjIwN2MuMjQzLjI0NC42MzguMjQ0Ljg4MiAwbC45NzgtLjk3N2MuMjQzLS4yNDQuMjQzLS42MzkgMC0uODgyeiIvPgo8L3N2Zz4K"})},a.createElement(s.Z,{id:"fil.clearall"})),t&&a.createElement(o.Z,{className:"textPurple",onClick:function(){return t()},startIcon:a.createElement("img",{className:"icon iconPurple",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4KICAgIDxwYXRoIGZpbGw9IiM3NzBGQzgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTE4LjYwNCAxNC45NTZMMTIuNTMgOC44ODNjLS4yOTMtLjI5My0uNzY3LS4yOTMtMS4wNiAwbC02LjA3NCA2LjA3M2MtLjI5Mi4yOTMtLjI5Mi43NjggMCAxLjA2bC43MDkuNzFjLjI5Mi4yOTIuNzY2LjI5MiAxLjA2IDBMMTIgMTEuOTEzbDQuODM2IDQuODEzYy4yOTMuMjkyLjc2Ny4yOTIgMS4wNiAwbC43MDgtLjcxYy4yOTItLjI5Mi4yOTItLjc2NyAwLTEuMDZ6Ii8+Cjwvc3ZnPgo="})},a.createElement(s.Z,{id:"fil.hide"})))))}},81689:function(e,t,n){"use strict";n(17727);var a=n(67294),r=n(45850),i=n(19199),s=n(66718),o=n(82122);t.Z=function(e,t){void 0===t&&(t=!0);var n=(0,a.useState)({}),l=n[0],c=n[1],d=(0,a.useState)(!1),u=d[0],m=d[1],f=(0,a.useContext)(o.Z),p=f.quotesMap,g=f.setQuotesMapData,v=e.exchangeId+"-"+e.exchangeType,h=(0,i.I0)();return(0,a.useEffect)((function(){if(t&&e.exchangeId&&e.exchangeType){if(p[v])return void c(p[v]);m(!0);var n={exchangeId:e.exchangeId,exchangeType:e.exchangeType};r.Z.quotesAssetsGet(n).then((function(e){c(e);var t=Object.assign({},p);t[v]=e,g(t)})).catch((function(e){h((0,s.jx)(e))})).finally((function(){m(!1)}))}}),[e.exchangeId,e.exchangeType,t]),{quoteAssets:l,quotesLoading:u}}},82579:function(e,t,n){"use strict";var a=n(18446),r=n.n(a),i=n(28583),s=n.n(i),o=n(67294),l=n(54193),c=n(19199),d=n(29093);t.Z=function(e,t,n,a){var i=function(){var a={};return Object.keys(e).forEach((function(r){if(a[r]=e[r],t&&t[r]){var i=typeof t[r]==typeof e[r],s=!Boolean(n[r]&&n[r].length)||n[r].find((function(e){return(0,d.$)(e)===(0,d.$)(t[r])}));i&&s&&(a[r]=t[r])}})),a},u=(0,o.useState)(i()),m=u[0],f=u[1],p=(0,c.I0)(),g=(0,o.useRef)(n),v=m;r()(g.current,n)||(v=i(),g.current=n,f(v));var h,y=function(e){p((0,l.rr)({filters:e,page:a}))};return{filters:v,setFilters:function(e){var t=s()({},m,e);f(t),y(t)},clearFilters:function(){var t={};Object.keys(m).forEach((function(n){t[n]=e[n]})),f(t),y(t)},modifiedFilters:(h=0,Object.entries(m).forEach((function(t){var n=t[0];t[1]!==e[n]&&h++})),h)}}},40304:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var a=n(67294),r=n(54364),i=n(82245),s=n(71949),o=n(53319),l=n(60454),c=n(4445),d=n(49391),u=n(7558),m=n(80951),f=n(59761),p=n(13928),g=n(81476),v=n(82122),h=function(e){var t=e.path,n=(0,f.Z)(),r=(0,u.nO)(t).links,s=(0,a.useContext)(v.Z).connectedProviders;return(null==s?void 0:s.filter((function(e){return e.exchangeInternalId===n.internalId&&"signalProvider"===e.type})).length)>0?r.push({id:"dashboard.providers",to:"/dashboard/connectedProviders"}):r=r.filter((function(e){return"dashboard.providers"!==e.id})),a.createElement(i.Z,{className:"dashboardHeader"},a.createElement(i.Z,{alignItems:"center",className:"titleBox",display:"flex",flexDirection:"row",justifyContent:"flex-start"},a.createElement(l.Z,{variant:"h1"},a.createElement(m.Z,{id:"dashboard"})),a.createElement("span",{className:"exchangeTitle"},a.createElement("span",{className:"name"}," ",n.internalName," "),n.paperTrading&&a.createElement("span",{className:"tag"},"(",a.createElement(m.Z,{id:"menu.demo"}),")"," "),n.isTestnet&&a.createElement("span",{className:"tag"},"(",a.createElement(m.Z,{id:"menu.testnet"}),")"," "),n.areKeysValid?a.createElement(c.ZP,{placement:"top",title:a.createElement(m.Z,{id:"accounts.exchangeconnected"})},a.createElement(p.Z,{className:"linkOn"})):a.createElement(c.ZP,{placement:"top",title:a.createElement(m.Z,{id:"accounts.exchangedisconnected"})},a.createElement(g.Z,{className:"linkOff"})))),a.createElement(d.Z,{links:r}))},y=n(54846),E=n(7428),Z=n(59694),I=n(796),b=n(18415),x=function(){var e=(0,I.Z)().exchanges;return a.createElement(i.Z,{className:"noExchangeBox",display:"flex",flexDirection:"column",justifyContent:"flex-start"},a.createElement(l.Z,{variant:"h1"},a.createElement(m.Z,{id:"dashboard"})),a.createElement("span",{className:"title"},a.createElement(m.Z,{id:"dashboard.connectexchange.preText"}),a.createElement("b",{onClick:function(){(0,Z.navigate)("#exchangeAccounts")}},a.createElement(m.Z,{id:"dashboard.connectexchange.bold.title"})),a.createElement(m.Z,{id:"dashboard.connectexchange.postText"})),a.createElement("span",{className:"subtitle"},a.createElement(m.Z,{id:"dashboard.connectexchange.subtitle"}),a.createElement("br",null),a.createElement("span",null,(0,b.M)(e,"or"))),a.createElement(i.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-start"},e&&e.map((function(e,t){return e.enabled&&"zignaly"!==e.name.toLowerCase()&&a.createElement(E.Z,{exchange:e.name.toLowerCase(),key:t,size:"xlarge"})}))))},M=function(e){var t=function(t){var n=(0,y.rP)(),r=(0,y.zJ)();return a.createElement(i.Z,{alignItems:"flex-start",className:"dashboardLayout",display:"flex",flexDirection:"column",justifyContent:"flex-start"},n.loaded?r.length>0?a.createElement(a.Fragment,null,a.createElement(h,{path:t.path}),a.createElement(i.Z,{className:"pageContent"},a.createElement(e,t)),a.createElement(i.Z,{className:"faq"},a.createElement(o.Z,null))):a.createElement(x,null):a.createElement(i.Z,{alignItems:"center",className:"loadingBox",display:"flex",flexDirection:"row",justifyContent:"center"},a.createElement(s.Z,{color:"primary",size:50})))};return t.displayName="Layout("+(0,r.Z)(e)+")",t}},46784:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var a=n(67294),r=n(82245),i=n(66735),s=n(65186),o=n(61986),l=n(29093),c=function(e){var t=e.onClear,n=e.quotes,r=e.timeFrames,s=e.providers,c=e.setFilters,d=e.filters,u=e.profitSharing,m=(0,i.Z)();return a.createElement(o.Z,{onClear:t,title:""},a.createElement(l.Z,{label:m.formatMessage({id:"fil.providers"}),onChange:function(e){return c({provider:e})},options:s,search:!0,value:d.provider}),!u&&a.createElement(l.Z,{label:m.formatMessage({id:"fil.quote"}),onChange:function(e){return c({quote:e})},options:n,search:!0,value:d.quote}),!u&&a.createElement(l.Z,{label:m.formatMessage({id:"fil.timeframe"}),onChange:function(e){return c({timeFrame:e})},options:r,value:d.timeFrame}))},d=n(14841),u=n.n(d),m=(n(17727),n(45850)),f=function(){var e=(0,i.Z)();return[{label:e.formatMessage({id:"timeframe.days.3"}),val:"3"},{label:e.formatMessage({id:"timeframe.days.7"}),val:"7"},{label:e.formatMessage({id:"timeframe.days.15"}),val:"15"},{label:e.formatMessage({id:"timeframe.days.30"}),val:"30"},{label:e.formatMessage({id:"timeframe.days.60"}),val:"60"},{label:e.formatMessage({id:"timeframe.weekly"}),val:"weekly"},{label:e.formatMessage({id:"timeframe.monthly"}),val:"monthly"},{label:e.formatMessage({id:"timeframe.yearly"}),val:"yearly"}]},p=n(66718),g=n(19199),v=n(44292),h=n(82579),y=n(81689),E=n(59761),Z=n(82122),I=function(e){var t=(0,v.Z)(),n=(0,E.Z)(),r=(0,a.useState)([]),s=r[0],o=r[1],l=(0,g.I0)(),c=(0,a.useState)(!0),d=c[0],I=c[1],b=(0,i.Z)(),x=f(),M=(0,y.Z)({exchangeId:n.exchangeId,exchangeType:n.exchangeType}).quoteAssets,N=Object.keys(M),C=(0,a.useContext)(Z.Z).userProviders,j=null==C?void 0:C.filter((function(e){return e.exchangeInternalId===n.internalId||e.exchangeInternalIds.find((function(e){return e.internalId===n.internalId}))})),w=[{val:"1",label:b.formatMessage({id:"fil.manual"})}];j&&(w=w.concat(j.map((function(e){return{val:e.id,label:e.name}}))));var D=(e?w.find((function(t){return t.val===e})):"")||w[0],T="dashboardAnalytics",S=t.filters[T],k={timeFrame:"7",quote:"USDT",provider:D},L={timeFrame:x,quote:N,provider:w},P=(0,h.Z)(k,S,L,T),O=P.setFilters,A=P.clearFilters,F=P.filters,z=Boolean(j);return(0,a.useEffect)((function(){if(j){I(!0);var e=["weekly","monthly","yearly"],t={quote:F.quote,timeFrame:!e.includes(F.timeFrame)&&u()(F.timeFrame),includeOpenPositions:!0,providerId:F.provider.val,timeFrameFormat:e.includes(F.timeFrame)?F.timeFrame:"lastXDays",internalExchangeId:n.internalId};m.Z.profitStatsGet(t).then((function(e){o(e)})).catch((function(e){l((0,p.jx)(e))})).finally((function(){I(!1)}))}}),[F.provider.val,F.quote,F.timeFrame,n.internalId,z]),{stats:s,timeFrames:x,quotes:N,providersOptions:w,providers:j||[],clearFilters:A,loading:d,filters:F,setFilters:O}},b=n(49186),x=n(60454),M=n(67287),N=n(71949),C=n(70802),j=n(88109),w=n(80951),D=n(38966),T=function(e){var t=e.stats,n=e.timeFrame,i=e.quote,s=e.loading,o=e.provider,l=(0,C.Z)(),c=(0,M.Z)(l.breakpoints.down("sm")),d=(0,a.useState)(0),u=d[0],m=d[1],f="profitFromInvestmentPercentage",p="%";1===u&&(f="profit",p=i);var g=t.map((function(e){return e[f]})),v=t.map((function(e){return e.date}));return a.createElement(b.Z,{className:"dashboardProfitsChart"},a.createElement(r.Z,{className:"profitsHeader",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},a.createElement(r.Z,{display:"flex",flexDirection:"row"},a.createElement(x.Z,{className:0===u?"selected":null,onClick:function(){return m(0)},variant:"h4"},a.createElement(w.Z,{id:"srv.profitspercentage"})),a.createElement(x.Z,{className:1===u?"selected":null,onClick:function(){return m(1)},variant:"h4"},a.createElement(w.Z,{id:"srv.netprofit"}))),a.createElement(x.Z,{variant:"h3"},n+" / "+i+" / "+o.label)),s&&a.createElement(r.Z,{alignItems:"center",className:"loadingBox",display:"flex",flexDirection:"row",justifyContent:"center"},a.createElement(N.Z,{color:"primary",size:40})),!s&&a.createElement(j.Z,{adjustHeightToContent:c,horizontal:c,labels:v,options:{},tooltipFormat:function(e){var n=t[e.index];return a.createElement(r.Z,{display:"flex",flexDirection:"column",justifyContent:"flex-start"},a.createElement(x.Z,{variant:"h5"},n.date),a.createElement(x.Z,{variant:"h5"},"Total Profit: "+(0,D.$1)(n[f])+" "+p),a.createElement(x.Z,{variant:"h5"},"Coin: "+n.quote),a.createElement(x.Z,{variant:"h5"},"Invested: "+(0,D.$1)(n.invested)),a.createElement(x.Z,{variant:"h5"},"Profit: "+(0,D.$1)(n.profit)),a.createElement(x.Z,{variant:"h5"},"Total Positions: "+n.totalPositions),a.createElement(x.Z,{variant:"h5"},"Total Wins: "+n.totalWins))},values:g}))},S=n(73964),k=n(96477),L=n(87533),P=n(53951),O=n(47752),A=n(82469),F=function(e){var t=e.data,n=e.onChange,i=e.types,s=(0,a.useState)("all"),o=s[0],c=s[1],d=function(e){return"all"===e?t:t.filter((function(t){return t.type.toLowerCase()===e.toLowerCase()}))};return a.createElement(r.Z,{alignItems:"center",className:"accountingFilter",display:"flex",flexDirection:"row"},a.createElement(l.Z,{label:"",onChange:function(e){c(e),n(d(e))},options:i,value:o}))},z=n(4445),q=n(71673),B=n(74125),Q=n(23024),H=function(e){var t=e.data,n=(0,a.useState)(t),s=n[0],o=n[1],l=(0,i.Z)(),c=[{label:l.formatMessage({id:"profitsharing.types.withdraw"}),val:"withdraw"},{label:l.formatMessage({id:"profitsharing.types.deposit"}),val:"deposit"},{label:l.formatMessage({id:"profitsharing.types.pnl"}),val:"pnl"},{label:l.formatMessage({id:"copyt.successfee"}),val:"successFee"},{label:l.formatMessage({id:"profitsharing.types.all"}),val:"all"}],d=[{name:"date",label:"col.date",options:{customBodyRender:function(e){return(0,D.p6)(e,"YYYY/MM/DD")}}},{name:"type",label:"col.orders.type",options:{customBodyRender:function(e){var t=c.find((function(t){return t.val===e}));return t?t.label:e}}},{name:"amount",label:"col.amount",options:{customBodyRenderLite:function(e){var t=s[e],n="pnl"===t.type.toLowerCase()&&0===t.amount;return a.createElement(r.Z,{alignItems:"center",display:"flex",flexDirection:"row"},a.createElement("span",null,(0,A.T4)(t.amount)),n&&a.createElement(z.ZP,{interactive:!0,placement:"top",title:a.createElement(Q.Z,{message:"profitsharing.types.pnl.tooltip",url:B.dR})},a.createElement(q.default,{className:"helpIcon"})))}}}];return a.createElement("div",{className:"profitSharingTable"},a.createElement(O.Z,{columns:d,data:s,options:{sortOrder:{name:"date",direction:"desc"}},title:a.createElement(r.Z,{alignItems:"center",display:"flex"},a.createElement(w.Z,{id:"profitsharing.accounting"}),a.createElement(F,{data:t,onChange:function(e){return o(e)},types:c}))}))},Y=n(18965),R=n(75471),G=n(33819),$=function(e){var t=e.currentBalance,n=e.data,i=e.selectedExchange,s=(0,a.useState)(n),o=s[0],l=s[1];return a.createElement(r.Z,{alignItems:"flex-start",className:"profitSharingEquityChart",display:"flex",flexDirection:"column",justifyContent:"flex-start"},a.createElement(r.Z,{alignItems:"flex-start",className:"equityHeader",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},a.createElement("div",null,a.createElement(x.Z,{className:"boxTitle",variant:"h3"},a.createElement(w.Z,{id:"dashboard.balance"})),a.createElement(x.Z,{className:"number2"},"USDT ",(0,D.$1)(t))),a.createElement(R.Z,{list:o,onChange:function(e){return l(e)}})),a.createElement(r.Z,{className:"chartBox",width:1},a.createElement(Y.Z,{list:o,modal:!1,selectedExchange:i}),a.createElement(G.Z,{list:o})))},U=n(2580),W=n.n(U),K=function(e){var t=e.provider,n=(0,a.useState)(null),i=n[0],s=n[1],o=(0,a.useState)(!1),l=o[0],c=o[1],d=(0,a.useState)({accounting:[],balance:[],performance:null}),u=d[0],f=d[1],v=(0,E.Z)(),h=(0,g.I0)();return(0,a.useEffect)((function(){var e={providerId:t.id,exchangeInternalId:v.internalId};c(!0),m.Z.getProfitSharingBalanceHistory(e).then((function(e){!function(e){var t=[];(0,P.e)(e,{},(function(e,n){var a=t.length?t[t.length-1]:null,r=n?n.amount:0;if(a&&e.isSame(a.date,"d"))t[t.length-1].totalUSDT+=r,t[t.length-1].totalWalletUSDT+=r;else{var i=a?a.totalUSDT:0;t.push({date:e.format("YYYY/MM/DD"),totalUSDT:i+r,totalWalletUSDT:i+r})}}));var n=[],a=[];e.forEach((function(e){var t=W()(e.date).startOf("d");if(["pnl","successFee"].includes(e.type)){var r=n.length&&n[n.length-1];r&&W()(r.day).isSame(t,"w")?r.return+=e.amount:n.push({return:e.amount,day:t.format(),positions:1})}var i=a.find((function(t){return W()(t.date).isSame(e.date,"d")&&t.type===e.type}));i?i.amount+=e.amount:a.push({date:t.toDate(),amount:e.amount,type:e.type})})),f({performance:{weeklyStats:n,closePositions:0,openPositions:0,totalBalance:0,totalTradingVolume:0},accounting:a,balance:t})}(e.entries),s(e)})).catch((function(e){h((0,p.jx)(e))})).finally((function(){c(!1)}))}),[t]),a.createElement(r.Z,{alignItems:"center",className:"profitSharingAnalytics",display:"flex",flexDirection:"column",justifyContent:"center"},l?a.createElement(r.Z,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",mt:"50px"},a.createElement(N.Z,{color:"primary",size:50})):i&&a.createElement(a.Fragment,null,a.createElement(S.Z,{performance:u.performance,unit:(null==i?void 0:i.quote)||""}),a.createElement(k.Z,null,a.createElement(a.Fragment,null,a.createElement(L.Z,{name:"profitsharing.initAllocated",tooltip:{message:"profitsharing.initAllocated.tooltip"},value:a.createElement(a.Fragment,null,i.quote," ",(0,D.$1)(i.initBalance))}),a.createElement("span",{className:"operator"},"|"),a.createElement(L.Z,{name:"profitsharing.currentAllocated",tooltip:{message:"profitsharing.currentAllocated.tooltip"},value:a.createElement(a.Fragment,null,i.quote," ",(0,D.$1)(i.currentBalance))}),a.createElement("span",{className:"operator"},"|"),a.createElement(L.Z,{name:"profitsharing.retain",tooltip:{message:"profitsharing.retain.tooltip",url:B.FR},value:a.createElement(a.Fragment,null,a.createElement(x.Z,{className:"number1"},i.quote," ",(0,D.$1)(i.retain)))}),a.createElement("span",{className:"operator"},"|"),a.createElement(L.Z,{name:"profitsharing.watermark",tooltip:{message:"profitsharing.watermark.tooltip",url:B.S7},value:a.createElement(a.Fragment,null,i.quote," ",(0,D.$1)(i.watermark))}))),a.createElement(r.Z,{className:"chartTableBox",display:"flex",width:1},a.createElement($,{currentBalance:i.currentBalance,data:u.balance,selectedExchange:v}),a.createElement(H,{data:u.accounting}))))},V=function(e){var t=e.providerId,n=I(t),i=n.stats,s=n.timeFrames,o=n.quotes,l=n.providers,d=n.providersOptions,u=n.clearFilters,m=n.loading,f=n.setFilters,p=n.filters,g=l.find((function(e){return e.id===p.provider.val})),v=g&&"profitSharing"===g.type;return a.createElement(r.Z,null,a.createElement(c,{filters:p,onClear:u,profitSharing:v,providers:d,quotes:o,setFilters:f,timeFrames:s}),v?a.createElement(K,{provider:g}):a.createElement(T,{loading:m,provider:p.provider,quote:p.quote,stats:i,timeFrame:s.find((function(e){return e.val===p.timeFrame})).label}))},X=(0,n(40304).Z)((function(){var e=(0,i.Z)(),t="undefined"!=typeof window?window.location.href.split("#")[1]:"";return a.createElement(r.Z,{className:"ctAnalyticsPage"},a.createElement(s.q,null,a.createElement("title",null,e.formatMessage({id:"menu.copytraders"})+" - "+e.formatMessage({id:"srv.analytics"})+" | "+e.formatMessage({id:"product"}))),a.createElement(V,{providerId:t}))}))},54364:function(e,t){"use strict";t.Z=function(e){return e.displayName||e.name||"Component"}},7558:function(e,t,n){"use strict";n.d(t,{nO:function(){return a},WD:function(){return r},_1:function(){return i},tZ:function(){return s}});var a=function(e){var t=e.split("/")[1];switch(t){case"dashboard":return{id:t,subtitleId:"",subtitle2Id:"",links:[{id:"dashboard.positions",to:"/dashboard"},{id:"dashboard.balance",to:"/dashboard/balance"},{id:"srv.analytics",to:"/dashboard/analytics"},{id:"dashboard.traders",to:"/dashboard/connectedTraders"}]};case"copyTraders":return{id:"menu.copytraders",subtitleId:"copyt.subtitle",subtitle2Id:"",links:[{id:"srv.marketplace",to:"/copyTraders"},{id:"srv.myservices",to:"/copyTraders/my"}]};case"profitSharing":return{id:"menu.profitSharing",subtitleId:"profit.subtitle",subtitle2Id:"",links:[{id:"srv.marketplace",to:"/profitSharing"},{id:"srv.myservices",to:"/profitSharing/my"}]};case"signalProviders":return{id:"menu.signalproviders",subtitleId:"signalp.subtitle",subtitle2Id:"signalp.subtitle2",links:[{id:"srv.marketplace",to:"/signalProviders"},{id:"srv.myservices",to:"/signalProviders/my"}]};case"copyTrader":return{id:"",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/copyTrader"},{id:"srv.analytics",to:"/copyTrader/analytics"},{id:"srv.positions",to:"/copyTrader/positions"}]};case"signalProvider":return{id:"",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/signalProvider/positions"},{id:"srv.analytics",to:"/signalProvider/positions"},{id:"srv.positions",to:"/signalProvider/positions"}]};default:return{id:"dashboard",subtitleId:"",subtitle2Id:"",links:[{id:"dashboard.positions",to:"/dashboard"},{id:"dashboard.balance",to:"/dashboard/balance"},{id:"dashboard.traders",to:"/dashboard/connectedTraders"}]}}},r=function(e,t){if(e){var n={id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/copyTraders/"+t.id},{id:"srv.analytics",to:"/copyTraders/"+t.id+"/analytics"},{id:"srv.positions",to:"/copyTraders/"+t.id+"/positions"}]};return n.links.push({id:"srv.newsfeed",to:"/copyTraders/"+t.id+"/feed"}),t.isAdmin&&(t.isClone||(n.links.push({id:"srv.edit",to:"/copyTraders/"+t.id+"/edit"}),n.links.push({id:"srv.users",to:"/copyTraders/"+t.id+"/users"}),n.links.push({id:"srv.management",to:"/copyTraders/"+t.id+"/management"}))),n}return{id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/copyTraders/"+t.id},{id:"srv.analytics",to:"/copyTraders/"+t.id+"/analytics"},{id:"srv.positions",to:"/copyTraders/"+t.id+"/positions"}]}},i=function(e,t){if(e){var n={id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/profitSharing/"+t.id},{id:"srv.analytics",to:"/profitSharing/"+t.id+"/analytics"},{id:"srv.positions",to:"/profitSharing/"+t.id+"/positions"}]};return n.links.push({id:"srv.newsfeed",to:"/profitSharing/"+t.id+"/feed"}),t.isAdmin&&(t.isClone||(n.links.push({id:"srv.edit",to:"/profitSharing/"+t.id+"/edit"}),n.links.push({id:"srv.users",to:"/profitSharing/"+t.id+"/users"}),n.links.push({id:"srv.management",to:"/profitSharing/"+t.id+"/management"}))),n}return{id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/profitSharing/"+t.id},{id:"srv.analytics",to:"/profitSharing/"+t.id+"/analytics"},{id:"srv.positions",to:"/profitSharing/"+t.id+"/positions"}]}},s=function(e,t,n){if(e){var a={id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/signalProviders/"+t.id},{id:"srv.analytics",to:"/signalProviders/"+t.id+"/analytics"}]};return t.isClone||a.links.push({id:"srv.newsfeed",to:"/signalProviders/"+t.id+"/feed"}),t.disable||t.exchangeInternalId!==n.internalId||a.links.push({id:"srv.settings",to:"/signalProviders/"+t.id+"/settings"}),t.isAdmin&&(t.isClone||(a.links.push({id:"srv.edit",to:"/signalProviders/"+t.id+"/edit"}),a.links.push({id:"srv.users",to:"/signalProviders/"+t.id+"/users"}))),a}return{id:"providerProfile",subtitleId:"",subtitle2Id:"",links:[{id:"srv.profile",to:"/signalProviders/"+t.id},{id:"srv.analytics",to:"/signalProviders/"+t.id+"/analytics"},{id:"srv.settings",to:"/signalProviders/"+t.id+"/settings"}]}}},53951:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var a=n(2580),r=n.n(a),i=n(16537),s=n.n(i);r().extend(s());var o={unit:"d",startDate:null,endDate:null,dateKey:"date"},l=function(e,t,n){if(e.length){var a=Object.assign({},o,t),i=a.startDate?r()(a.startDate):r()(e[0][a.dateKey]);i=i.startOf("d");for(var s=a.endDate?r()(a.endDate):r()(),l=(s=s.startOf("d")).diff(i,a.unit),c=i,d=0,u=function(){for(var t=[],n=d;n<e.length;n++){var i=e[n];if(d=n,!r()(i[a.dateKey]).isSame(c,a.unit))break;t.push(i)}return t},m=0;m<=l;m++){var f=u();f.length?f.forEach((function(e){return n(c,e)})):n(c,null),c=c.add(1,a.unit)}}}}}]);
//# sourceMappingURL=component---src-pages-dashboard-analytics-index-js-f512a8955ee4b3a6e585.js.map